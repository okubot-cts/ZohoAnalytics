# VERSANTコーチング 日別学習進捗レポート

## 📋 レポート概要

このレポートは、VERSANTコーチングを受講している受講生の日別学習進捗を把握するためのものです。

### 🎯 レポートの特徴
- **動的日付範囲**: 常に直近3週間のデータを表示
- **受講生別集計**: 一人一人の学習状況を詳細に把握
- **学習開始日表示**: 各受講生の学習開始日を確認可能
- **学習状況判定**: 自動で学習状況を判定

## 📊 表示項目

### 基本情報
- **受講生ID**: 連絡先のID
- **受講生名**: 姓 + 名
- **メールアドレス**: 連絡先のメール
- **電話番号**: 連絡先の電話番号
- **会社名**: 連絡先の会社名
- **学習開始日**: 手配レコードから取得した学習開始日

### 日別学習件数
- **20日前〜今日**: 各日の回答件数を表示
- **3週間合計**: 直近3週間の総回答件数
- **1日平均**: 直近3週間の1日あたり平均回答件数

### 学習状況判定
- **未学習**: 3週間で0件
- **学習不足**: 3週間で10件未満
- **学習中**: 3週間で30件未満
- **積極的**: 3週間で30件以上

## 🔍 対象受講生

以下の商品IDに紐づく手配レコードの連絡先が対象です：
- `5187347000184182087`
- `5187347000184182088`
- `5187347000159927506`

## 📁 ファイル構成

### SQLファイル
1. **`versant_coaching_report_final.sql`** (推奨)
   - 最終版：学習状況判定機能付き
   - 最も実用的で推奨

2. **`versant_coaching_report_simple.sql`**
   - 簡潔版：基本的な機能のみ
   - 軽量で高速

3. **`versant_coaching_report.sql`**
   - 完全版：動的日付生成機能付き
   - 最も高度な機能

## 🚀 使用方法

### ZohoAnalyticsでの実行
1. ZohoAnalyticsにログイン
2. ワークスペース「Zoho CRMの分析」を選択
3. 「クエリ」タブをクリック
4. 推奨SQLファイルの内容をコピー&ペースト
5. 「実行」ボタンをクリック

### 定期実行の設定
1. レポートとして保存
2. スケジュール実行を設定（推奨：毎日）
3. 結果をメール配信またはダッシュボード表示

## 📈 活用方法

### 学習進捗の把握
- 日別の学習状況を視覚的に確認
- 学習不足の受講生を早期発見
- 学習開始日からの経過期間を考慮

### フォローアップ
- 「未学習」「学習不足」の受講生を優先対応
- 学習開始日が古いのに進捗が悪い受講生を重点サポート
- 積極的な受講生の学習パターンを分析

### データ分析
- 学習開始日と学習進捗の相関分析
- 会社別の学習傾向分析
- 季節性や曜日別の学習パターン分析

## ⚠️ 注意事項

### データの制限
- VERSANTで回答しないとデータが生成されない
- 手配レコードに紐づく受講生のみが対象
- 学習開始日は手配レコードから取得

### パフォーマンス
- 大量データの場合は実行時間が長くなる可能性
- 必要に応じて日付範囲を調整

### カラム名の確認
- 実際のテーブル構造に合わせてカラム名を調整
- 必要に応じてスキーマ情報を再取得

## 🔧 カスタマイズ

### 日付範囲の変更
```sql
-- 4週間の場合
AND DATE(v.`回答日時`) >= DATE_SUB(CURDATE(), INTERVAL 28 DAY)

-- 2週間の場合
AND DATE(v.`回答日時`) >= DATE_SUB(CURDATE(), INTERVAL 14 DAY)
```

### 学習状況の判定基準変更
```sql
CASE 
    WHEN COALESCE(SUM(vd.daily_count), 0) = 0 THEN '未学習'
    WHEN COALESCE(SUM(vd.daily_count), 0) < 5 THEN '学習不足'  -- 基準を5件に変更
    WHEN COALESCE(SUM(vd.daily_count), 0) < 20 THEN '学習中'   -- 基準を20件に変更
    ELSE '積極的'
END as `学習状況`
```

### 商品IDの追加・変更
```sql
WHERE ar.`商品ID` IN (
    '5187347000184182087',
    '5187347000184182088', 
    '5187347000159927506',
    '新しい商品ID'  -- 新しい商品IDを追加
)
```

## 📞 サポート

問題や質問がある場合は、以下を確認してください：
1. テーブル構造の確認
2. カラム名の正確性
3. データの存在確認
4. 権限の確認 