#!/usr/bin/env python3
"""
JT ETPäº‹å‹™å±€ ç°¡æ˜“åˆ†æï¼ˆCSVãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼‰
110å††é™¤å¤–ã€ä¸ŠæœŸ/ä¸‹æœŸåˆ†é›¢ã§ã®å·®é¡åˆ†æ
"""
print("="*80)
print("ğŸ” JT ETPäº‹å‹™å±€ ç°¡æ˜“å·®é¡åˆ†æ")
print("="*80)

# å…ƒãƒ‡ãƒ¼ã‚¿ã‹ã‚‰åˆ†æ
print("ğŸ“Š ã€2025ã€‘JT ETPäº‹å‹™å±€ã®åŸºæœ¬æƒ…å ±:")
print("  è¦ªå•†è«‡é‡‘é¡: Â¥0")
print("  å­å•†è«‡æ•°: 88ä»¶")
print("  å­å•†è«‡åˆè¨ˆï¼ˆç¨æŠœï¼‰: Â¥14,908,559") 
print("  å­å•†è«‡åˆè¨ˆï¼ˆç¨è¾¼ï¼‰: Â¥16,399,415")
print("  å®Ÿéš›è«‹æ±‚æ›¸é‡‘é¡: Â¥15,501,617")
print("  å·®é¡ï¼ˆä¿®æ­£å‰ï¼‰: Â¥897,798")

print(f"\nğŸ”§ ä¿®æ­£è¨ˆç®—:")

# 110å††è«‹æ±‚æ›¸ã‚’2ä»¶é™¤å¤–
excluded_110yen = 110 * 2
print(f"  110å††è«‹æ±‚æ›¸é™¤å¤–: Â¥{excluded_110yen} (2ä»¶)")

# ä¿®æ­£å¾Œã®è«‹æ±‚æ›¸é‡‘é¡
adjusted_invoice_amount = 15501617 - excluded_110yen
print(f"  ä¿®æ­£å¾Œè«‹æ±‚æ›¸é‡‘é¡: Â¥{adjusted_invoice_amount:,.0f}")

# ä¿®æ­£å¾Œã®å·®é¡
adjusted_diff = 16399415 - adjusted_invoice_amount  
print(f"  ä¿®æ­£å¾Œå·®é¡: Â¥{adjusted_diff:,.0f}")

print(f"\nğŸ“… ä¸ŠæœŸ/ä¸‹æœŸæƒ³å®šåˆ†æ:")
print("  â€» å®Ÿéš›ã®å®Œäº†äºˆå®šæ—¥ãƒ‡ãƒ¼ã‚¿ãŒå¿…è¦ã§ã™ãŒã€æ¨å®šåˆ†æ:")

# ä»®å®š: 88ä»¶ã‚’ä¸ŠæœŸ/ä¸‹æœŸã§åˆ†å‰²ï¼ˆä¸€èˆ¬çš„ã«ã¯ä¸ŠæœŸ40%ã€ä¸‹æœŸ60%ç¨‹åº¦ï¼‰
upper_ratio = 0.4  # ä¸ŠæœŸ40%ã¨ä»®å®š
lower_ratio = 0.6  # ä¸‹æœŸ60%ã¨ä»®å®š

total_child_amount = 14908559
upper_estimated_amount = total_child_amount * upper_ratio
lower_estimated_amount = total_child_amount * lower_ratio

upper_estimated_with_tax = upper_estimated_amount * 1.1
lower_estimated_with_tax = lower_estimated_amount * 1.1

print(f"\n  ã€æ¨å®šä¸ŠæœŸåˆ†æï¼ˆã€œ5æœˆï¼‰ã€‘")
print(f"    æ¨å®šå•†è«‡æ•°: {int(88 * upper_ratio)}ä»¶")
print(f"    æ¨å®šé‡‘é¡ï¼ˆç¨æŠœï¼‰: Â¥{upper_estimated_amount:,.0f}")
print(f"    æ¨å®šé‡‘é¡ï¼ˆç¨è¾¼ï¼‰: Â¥{upper_estimated_with_tax:,.0f}")

print(f"\n  ã€æ¨å®šä¸‹æœŸåˆ†æï¼ˆ6æœˆã€œï¼‰ã€‘") 
print(f"    æ¨å®šå•†è«‡æ•°: {int(88 * lower_ratio)}ä»¶")
print(f"    æ¨å®šé‡‘é¡ï¼ˆç¨æŠœï¼‰: Â¥{lower_estimated_amount:,.0f}")
print(f"    æ¨å®šé‡‘é¡ï¼ˆç¨è¾¼ï¼‰: Â¥{lower_estimated_with_tax:,.0f}")

print(f"\nğŸ’¡ åˆ†ææ¨è«–:")
print(f"  1. 110å††è«‹æ±‚æ›¸2ä»¶é™¤å¤–ã«ã‚ˆã‚Šå·®é¡ã¯ Â¥{adjusted_diff:,.0f}")
print(f"  2. ã“ã®å·®é¡ã¯ä¸»ã«ä»¥ä¸‹ã®è¦å› ã¨æ¨å®š:")
print(f"     â€¢ ä¸€éƒ¨å­å•†è«‡ã®è«‹æ±‚æ¼ã‚Œ")
print(f"     â€¢ ä¸ŠæœŸ/ä¸‹æœŸã§ã®è«‹æ±‚ã‚¿ã‚¤ãƒŸãƒ³ã‚°ãšã‚Œ")
print(f"     â€¢ å®Ÿç¸¾ãƒ™ãƒ¼ã‚¹èª¿æ•´ï¼ˆã‚µãƒ¼ãƒ“ã‚¹æœªå®Œäº†ç­‰ï¼‰")

print(f"\nğŸ” ç¢ºèªãŒå¿…è¦ãªé …ç›®:")
print(f"  1. 88ä»¶ã®å­å•†è«‡ã®å®Œäº†äºˆå®šæ—¥åˆ¥å†…è¨³")
print(f"  2. 28ä»¶ã®è«‹æ±‚æ›¸ã®ç™ºè¡Œæœˆãƒ»å¯¾è±¡æœŸé–“")
print(f"  3. æœªè«‹æ±‚60ä»¶ã®ç†ç”±ï¼ˆå®Œäº†å¾…ã¡ãƒ»ã‚­ãƒ£ãƒ³ã‚»ãƒ«ç­‰ï¼‰")

print("="*80)